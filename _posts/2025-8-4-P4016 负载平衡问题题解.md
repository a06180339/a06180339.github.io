---
layout: post
title: "P4016 负载平衡问题题解"
date: 2025-8-4
tags: ["图论", "网络流", "费用流", "网络流建模", "6.4"]
comments: true
author: a06180339
---

建立超级源点 $s$ 和超级汇点 $t$。对于仓库 $i$，首先将 $i$ 与相邻的两个仓库连容量为 $+\infty$，价值为 $1$ 的边。如果 $a_i - \sum_{i=1}^{n}\frac{a_i}{n} > 0$，则 $i$ 需要移走多余的货物。所以源点往 $i$ 连容量为 $a_i - \sum_{i=1}^{n}\frac{a_i}{n}$，价值为 $0$ 的边。表示初始 $i$ 能获得这么多货物。否则 $i$ 的货物太少，所以 $i$ 往汇点连容量为 $-(a_i - \sum_{i=1}^{n}\frac{a_i}{n})$，价值为 $0$ 的边。表示 $i$ 需要移走这么多货物。然后跑最小费用最大流即可。
